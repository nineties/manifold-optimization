<!DOCTYPE html>
<html
  class=""
  lang="ja-jp"
  prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"
>
  <head>
    <meta charset="utf-8" />

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="description" content="" />
<meta name="HandheldFriendly" content="True" />
<meta name="MobileOptimized" content="320" />
<meta name="viewport" content="width=device-width, initial-scale=1" />


<meta name="keywords" content="">


<meta property="og:type" content="article" />
<meta property="og:description" content="" />
<meta property="og:title" content="2. 多様体" />
<meta property="og:site_name" content="Manifold Optimization" />
<meta property="og:image" content="" />
<meta property="og:image:type" content="image/jpeg" />
<meta property="og:image:width" content="" />
<meta property="og:image:height" content="" />
<meta property="og:url" content="https://nineties.github.io/manifold-optimization/manifold/" />
<meta property="og:locale" content="ja-jp" />
<meta property="article:published_time" content="0001-01-01
" /> <meta property="article:modified_time" content="0001-01-01
" />






    <title>2. 多様体</title>
    <link rel="canonical" href="https://nineties.github.io/manifold-optimization/manifold/" />


    <link
  rel="stylesheet"
  href="https://unpkg.com/tachyons@4.11.1/css/tachyons.min.css"
/>

<link rel="stylesheet" href="https://nineties.github.io/manifold-optimization/css/style.css" />
<link rel="stylesheet" href="https://nineties.github.io/manifold-optimization/css/custom.css" />

<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/highlightjs@9.12.0/styles/github-gist.css"
/>



<link rel="stylesheet" type="text/css" href="https://nineties.github.io/manifold-optimization/css/mathjax-style.css">
<script>
    MathJax = {
      tex: {
        inlineMath: [['$','$']],
        displayMath: [['$$','$$']],
        processEscapes: true,
        tags: "ams",
        autoload: {
          color: [],
          colorV2: ['color']
        },
        packages: {'[+]': ['noerrors']}
      },
      chtml: {
        matchFontHeight: false,
        displayAlign: "left",
        displayIndent: "2em"
      },
      options: {
        renderActions: {
           
          find_script_mathtex: [10, function (doc) {
            for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            }
          }, '']
        }
      },
      loader: {
        load: ['[tex]/noerrors']
      }
    };
</script>
<script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" id="MathJax-script"></script>


    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
  </head>


<body
  lang="ja-jp"
  class="sans-serif w-90 w-60-ns center center-ns mv2 mv5-ns"
  itemscope
  itemtype="http://schema.org/Article"
>
  
  <span class="b">/ </span>
  <a
    href="https://nineties.github.io/manifold-optimization/"
    class="b bb bw1 pb1 no-underline black"
    >Manifold Optimization</a
  >

  <section id="main" class="mt5">
    <h1 itemprop="name" id="title">2. 多様体</h1>

    <article itemprop="articleBody" id="content" class="w-90 lh-copy">
      <p><a href="https://press.princeton.edu/absil">教科書</a>では、(私が)よく見る定義とは異なり <strong>極大アトラス</strong> を用いて多様体の定義を行なっている。
よくある定義では多様体 $\mathcal{M}$ の位相構造が天下り的に与えられる事が多いが、極大アトラスを用いた定義では $\mathcal{M}$ は単なる集合として導入されて極大アトラスによってその位相構造が自然と定まるという順番になる。</p>
<p>この定義を見て最初は戸惑いを感じたが、よくよく考えてみれば多様体というのは謎の空間 $\mathcal{M}$ を局所的にユークリッド空間と同一視する事で調べようというものであるのに、$\mathcal{M}$ の位相構造が最初から分かっているというのは確かに奇妙な前提であるようには思う。極大アトラスを用いた定義ではそのような違和感を(私は)感じずに読み進める事ができた。</p>
<div class="box">
    <div class="title">
        定義2.1:  チャート
    </div>
<p>$\mathcal{M}$を集合とする。$\mathcal{M}$の部分集合 $U$からユークリッド空間 $\mathbb{R}^d$ の開集合$V$ への全単射 $\varphi:U\rightarrow V$がある時 $(U,\varphi)$を$\mathcal{M}$の$d$次元の <strong>チャート(chart)</strong> という。誤解の恐れのない場合には $U$ や $\varphi$ の事を単体でチャートと呼ぶこともある。</p>
<p>点 $x\in U$ に対して $\varphi(x)\in\mathbb{R}^d$ を $x$ のチャート $\varphi(x)$ における <strong>座標(coordinate)</strong> と言う。</p>
</div>
<p>チャートで、$\mathcal{M}$ の局所的な様子を調べやすいユークリッド空間 $\mathbb{R}^d$ に写しとる事で、 $\varphi(U)$ を通して $U$ について調べることが可能になる。</p>
<p>これは例えば $\mathcal{M}$ を地球、 チャートをある一地方の地図だと思うとイメージしやすい。地球そのものを見なくても、地図上を見ることで地球の事をある程度調べる事ができる。</p>
<p style="text-align:center;">
<img src="../images/chart.png" width="80%" >
</p>

<div class="box">
    <div class="title">
        定義2.2:  チャートの両立
    </div>
<p>2つの$d$次元チャート $(U,\varphi),(V,\psi)$ に対して</p>
<p>$$ \psi\circ\varphi^{-1}: \varphi(U\cap V)\rightarrow\psi(U\cap V) $$</p>
<p>を <strong>座標変換(change of coordinates)</strong> という。</p>
<p>$\varphi(U\cap V), \psi(U\cap V)$ がどちらも $\mathbb{R}^d$ の開集合であり、$\psi\circ\varphi^{-1}$ が($C^\infty$) 微分同相写像であるとき、2つのチャートは <strong>両立する(compatible)</strong> という。</p>
</div>
<p>2つの地図に重なっている地域があるならば、一方の地図ともう一方の地図の対応を付けられるということで、これらの地図が両立するというのはその対応が滑らかな写像になっているということ。</p>
<p style="text-align:center;">
<img src="../images/change_of_coordinates.png" width="80%" >
</p>

<p>特別な場合として交わらないチャートは常に両立する。なぜならば $U\cap V=\emptyset$ ならば
$\varphi$ は全単射だから $\varphi(U\cap V)=\emptyset$。よってこれは $\mathbb{R}^d$ の開集合。 $\psi(U\cap V)$ も同じく開集合。
$\psi\circ\varphi^{-1}$ は空写像になるが、空写像は微分同相。</p>
<p>以下の命題は頻繁に使う事になる。</p>
<div class="box">
    <div class="title">
        命題2.3
    </div>
<p>チャート $(U,\varphi)$ と $U$の部分集合 $V\subset U$ について $\varphi(V)$ が $\mathbb{R}^d$ の開集合ならば、 $(V,\varphi|_V)$ もチャートである。但し、 $\varphi|_V$ は $\varphi$ の定義域を $V$ に制限した写像。</p>
<p>また $(V,\varphi|V)$ は $(U,\varphi)$ と両立する任意のチャートと両立する。</p>
</div>
<p>これは、$U,V$ の間の座標変換が恒等写像になる事から明らか。地図の一部にだけ注目しても地図である事には変わらないし、他の地図との座標変換も変わらないという事。</p>
<p>両立関係は同値関係とは限らない。3つのチャート $(U,\varphi),(V,\psi),(W,\xi)$ について前者2つ、後者2つが両立しても $\varphi(U\cap W),\xi(U\cap W)$ が $\mathbb{R}^d$ の開集合とは限らない為、推移律が成り立たない。</p>
<div class="box">
    <div class="title">
        定義2.4:  アトラス
    </div>
<p>$\mathcal{M}$ を集合とする。$\mathcal{M}$の $d$次元チャートの集合
$\{(U_\lambda,\varphi_\lambda\}$ で</p>
<p>$$\mathcal{M}=\bigcup_\lambda U_\lambda$$</p>
<p>であり、任意の2つのチャートが両立するものを
$d$次元 <strong>アトラス(atlas)</strong> という。</p>
</div>
<p>アトラスは地図を集めた地図帳。</p>
<hr>
<p>2次元単位球面のアトラスの例:</p>
<p>$S^2=\{(x,y,z)|x^2+y^2+z^2=1\}$ について $U_+=S^2\setminus\{(0,0,-1)\},U_-=S^2\setminus\{(0,0,1)\}$
とする。$U_+$ は$S^2$の南極一点を除いた集合、$U_-$ は北極一点を除いた集合。
$\varphi_+:U_+\rightarrow \mathbb{R}^2: p\rightarrow\varphi_+(p)$ を、 $p$を$(0,0,-1)$と$p$を通る直線が平面 $z=0$ と交わる点に移す写像とする(南極点から$xy$平面への射影)。同様に $\varphi_-:U_-\rightarrow\mathbb{R}^2$ を北極点からの射影と定義する。このとき $\{(U_+,\varphi_+),(U_-,\varphi_-)\}$ は $S^2$ のアトラスとなる。</p>
<p>実際に計算してみると</p>
<p>$$
\varphi_+(x,y,z)=\left(\frac{x}{1+z},\frac{y}{1+z}\right),\quad
\varphi_-(x,y,z)=\left(\frac
{x}{1-z},\frac{y}{1-z}\right)
$$
となる。これらの逆写像は
$$
\begin{aligned}
\varphi_+^{-1}(u,v)&amp;=\left(\frac{2u}{u^2+v^2+1},\frac{2v}{u^2+v^2+1},-\frac{u^2+v^2-1}{u^2+v^2+1}\right) \\ \\<br>
\varphi_-^{-1}(u,v)&amp;=\left(\frac{2u}{u^2+v^2+1},\frac{2v}{u^2+v^2+1},\frac{u^2+v^2-1}{u^2+v^2+1}\right)
\end{aligned}
$$</p>
<p>となり、確かに $\varphi_+,\varphi_-$ は全単射で $\mathbb{R}^2$ は開集合だから、これらはチャートである。</p>
<p>次に座標変換について調べるが、まず
$\varphi_+(U_+\cap U_-)=\varphi_-(U_+\cap U_-)=\mathbb{R}\setminus{(0,0)}$ はユークリッド空間 $\mathbb{R}^2$ の開集合である。(一点集合は閉集合だから)</p>
<p>座標変換 $\varphi_-\circ\varphi_+^{-1}$ は</p>
<p>$$
\varphi_-\circ\varphi_+^{-1}(u,v)=\left(\frac{u}{u^2+v^2},\frac{v}{u^2+v^2}\right)
$$</p>
<p>となるが、これは $\mathbb{R}\setminus\{(0,0)\}$ 上の微分同相写像である。以上より2つのチャートは両立し、$S^2=U_+\cup U_-$ なので $\{(U_+,\varphi_+),(U_-,\varphi_-)\}$ は $S^2$ のアトラス。</p>
<hr>
<p>馴染みのない例:</p>
<p>$\mathcal{M}$ を $\mathbb{R}^2$ 内の直線の集合とし、$U$ を $y$ 軸に並行ではない直線の集合、$V$ を $x$ 軸に並行ではない直線の集合とする。つまり</p>
<p>$$
U=\{y=mx+b|m,b\in\mathbb{R}\},
V=\{x=ny+c|n,c\in\mathbb{R}\}
$$</p>
<p>とかける。ここで
$$
\begin{aligned}
\varphi&amp;:U\rightarrow\mathbb{R}^2:\varphi(y=mx+b)=(m,b)\\<br>
\psi&amp;:V\rightarrow\mathbb{R}^2:\psi(x=ny+c)=(n,c)\\<br>
\end{aligned}
$$
と置くとこれらはチャートになる。$U\cap V$ は水平でも並行でもない直線の集合で $\varphi(U\cap V)=\psi(U\cap V)=\{(a,b)|a,b\in\mathbb{R},a\neq 0\}$ になる。これは $\mathbb{R}^2$ の開集合で $\psi\circ\varphi^{-1}:(m,b)\mapsto(1/m,b/m)$ は $m\neq 0$ で微分同相。$U\cup V=\mathcal{M}$ だから $\{(U,\varphi),(V,\psi\}$ は$\mathcal{M}$ のアトラス)。</p>
<div class="box">
    <div class="title">
        定義2.5:  極大アトラス
    </div>
<p>集合 $\mathcal{M}$ の$d$次元チャート $(U,\varphi)$ とアトラス $\mathcal{A}$ について $\mathcal{A}\cup\{(U,\varphi)\}$ も $\mathcal{M}$ のアトラスであるならば、 $(U,\varphi)$ は $\mathcal{A}$ と両立するという。</p>
<p>アトラス $\mathcal{A}$ と両立するチャート全ての集合 $\mathcal{A}^+$ を $\mathcal{A}$の <strong>極大アトラス(maximal atlas)</strong> という。</p>
</div>
<div class="box">
    <div class="title">
        命題2.6
    </div>
<p>極大アトラス $\mathcal{A}^+$ は $\mathcal{A}$ を含む最大のアトラスである。</p>
</div>
<p>証明</p>
<p>$\mathcal{A}^+$ がアトラスであることを示す。
$(U,\varphi),(V,\psi)\in \mathcal{A}^+$ について、一方が $\mathcal{A}$ に含まれているのならば、これらが両立するのは定義より明らかなので、どちらも $\mathcal{A}$ に含まれていない場合を考える。
それぞれのチャートは $\mathcal{A}$ と両立するので, 任意の$(U_\alpha,\varphi_\alpha)\in \mathcal{A}$ について
$\varphi_\alpha(U\cap U_\alpha),\varphi_\alpha(V\cap U_\alpha)$ は $\mathbb{R}^d$ の開集合。従ってこれらの共通部分</p>
<p>$$
\varphi_\alpha(U\cap U_\alpha)\cap\varphi_\alpha(V\cap U_\alpha) = \varphi_\alpha(U\cap V\cap U_\alpha)
$$</p>
<p>も開集合。($\because$ $f$が全単射ならば $f(A\cap B)=f(A)\cap f(B)$)</p>
<p>よって$\varphi\circ\varphi_\alpha$ は同相写像だから</p>
<p>$$
\varphi(U\cap V\cap U_\alpha)=(\varphi\circ\varphi_\alpha^{-1})(\varphi_\alpha(U\cap V\cap U_\alpha))
$$</p>
<p>も $\mathbb{R}^d$ の開集合。よって</p>
<p>$$
\varphi(U\cap V)=\varphi\left(\bigcup_\alpha U\cap V\cap U_\alpha\right) = \bigcup_\alpha\varphi(U\cap V\cap U_\alpha)
$$</p>
<p>も開集合。全く同様にして $\psi(U\cap V)$ も開集合。</p>
<p>あとは座標変換 $\psi\circ\varphi^{-1}:\varphi(U\cap V)\rightarrow\psi(U\cap V)$が微分同相写像である事を示せば良い。任意の $(U_\alpha,\varphi_\alpha)\in \mathcal{A}$ に対して、</p>
<p>$$
\varphi_\alpha\circ\varphi^{-1}:\varphi(U\cap U_\alpha)\rightarrow\varphi_\alpha(U\cap U_\alpha)
$$</p>
<p>は仮定より微分同相写像。これを開集合 $\varphi(U\cap V\cap U_\alpha)$ に制限した</p>
<p>$$
\varphi_\alpha\circ\varphi^{-1}:\varphi(U\cap V\cap U_\alpha)\rightarrow\varphi_\alpha(U\cap V\cap U_\alpha)
$$</p>
<p>も微分同相写像。$\psi\circ\varphi_\alpha^{-1}$ も同様なので、これらの合成</p>
<p>$$
\psi\circ\varphi^{-1}:\varphi(U\cap V\cap U_\alpha)\rightarrow\psi(U\cap V\cap U_\alpha)
$$</p>
<p>も微分同相写像。よって $$\varphi(U\cap V)= \bigcup_\alpha\varphi(U\cap V\cap U_\alpha)$$ であったので
$$
\psi\circ\varphi^{-1}: \varphi(U\cap V)\rightarrow\psi(U\cap V)
$$
も微分同相写像である。以上より任意の $(U,\varphi),(V,\psi)\in\mathcal{A}^+$ は両立するのでアトラスである。</p>
<p>$\mathcal{A}\subset \mathcal{A}^+$ であって $\mathcal{A}^+$ が最大である事は明らか。 $\square$</p>
<hr>
<p>以上で多様体の定義に必要な最低限の道具は揃ったが、実用上2つの条件を加える。1つは $\mathcal{M}$ が可算個のチャートで覆えるということ、もう一つはハウスドルフ性である。
これらを仮定すると、後ほど導入される極大アトラスの定める位相によって $\mathcal{M}$ が第二可算かつハウスドルフになる事が言える。</p>
<div class="box">
    <div class="title">
        定義2.7:  多様体
    </div>
<p>集合 $\mathcal{M}$ と極大アトラス $\mathcal{A}=\{(U_\alpha,\varphi_\alpha)\}$ が以下を満たすとき、 $(\mathcal{M},\mathcal{A})$ を <strong>$d$次元多様体($d$-dimentional manifold)</strong> という。誤解の恐れの無い場合は $\mathcal{M}$ 自身を多様体と呼ぶ。</p>
<p><strong>可算被覆をもつ(Countability condition)</strong></p>
<p>$\mathcal{M}$ は $\mathcal{A}$ の可算個のチャートで覆うことができる。つまり、$U_{\alpha_1},U_{\alpha_2},\ldots$ が存在して $ \mathcal{M}=\bigcup_iU_{\alpha_i}$ と書ける。</p>
<p><strong>ハウスドルフ性(Hausdorff condition)</strong></p>
<p>任意の異なる点 $x,y\in \mathcal{M},x\neq y$ に対して、これらを含む交わらないチャート,すなわち $(U,\varphi),(V,\psi)\in \mathcal{A}$ で$x\in U,y\in V$ かつ $U\cap V=\emptyset$であるものが存在する。</p>
</div>
<p>ある集合と極大アトラスがハウスドルフ性を満たすか調べる為には、以下の補題が役に立つ。</p>
<div class="box">
    <div class="title">
        補題2.8
    </div>
<p>$\mathcal{M}$ を集合、 $\mathcal{A}$ を極大アトラスとする。
$\mathcal{M}$ の異なる2点 $x,y$ がある1つのチャート $(U,\varphi)\in \mathcal{A}$ に含まれるならば、これらを分離する $U$ に含まれるチャートが存在する。</p>
<p>すなわち、あるチャート $U_\alpha,U_\beta\subset U$ が存在して $x\in U_\alpha,y\in U_\beta,U_\alpha\cap U_\beta=\emptyset$</p>
</div>
<p>$\varphi$ は全単射だから $x\neq y$ の時、$\varphi(x)\neq\varphi(y)$ である。よって $\mathbb{R}^d$ はハウスドルフ空間だから $\varphi(x),\varphi(y)$ を分離する開集合で $\varphi(U)$ に含まれる物を選ぶ事ができる。これらの $\varphi$ での逆像を $U_\alpha,U_\beta$ とすれば $U_\alpha,U_\beta\subset U$ であって $\varphi$ は全単射だから $U_\alpha\cap U_\beta=\emptyset$ となる。それぞれのチャートの写像は $\varphi$ を $U_\alpha,U_\beta$ に制限したものをとれば良い。$\square$</p>
<p>つまり、一つの地図の中に限って見ればハウスドルフ性は自然に成立するということ。</p>
<hr>
<p>ここでよく使うことになりそうな多様体の例を挙げる。</p>
<div class="box">
    <div class="title">
        例2.9:  $n$次元球面
    </div>
<p>$$
S^n=\{\mathbf{x}|\mathbf{x}\in\mathbb{R}^{n+1},||\mathbf{x}||=1\}
$$</p>
<p>を <strong>$n$ 次元球面($n$-sphere)</strong> という。
$U_\pm$ を $S^n$ から $(\mp 1,0,\ldots)$ を除いた集合とし, 写像 $\varphi_\pm :U_\pm\rightarrow\mathbb{R}^n$ を
$$
\varphi_\pm(x_0,x_1,\ldots,x_n) = \frac{1}{1\pm x_0}(x_1,\ldots,x_n)
$$
とすると $(U_\pm,\varphi_\pm)$ はチャートである。また、 $\mathcal{A}=\{(U_+,\varphi_+),(U_-,\varphi_-)\}$ はアトラスであり、 $(S^n,\mathcal{A}^+)$ は$n$次元多様体である。</p>
</div>
<p>$\varphi_\pm$ がチャートである事と、$\mathcal{A}$ がアトラスである事の証明は 前節でやった $S^2$ の場合とほとんど同じなので省略し、極大アトラス $\mathcal{A}^+$ をとると $(S^n,\mathcal{A}^+)$ が多様体になる事を示す。</p>
<p>まず $S^n=U_+\cup U_-$ だから可算被覆を持つ事は明らか。続いて、ハウスドルフ性についてだが、補題2.8より2点が同じチャートに含まれる場合には分離できるので、$(1,0,\ldots)$ と $(-1,0,\ldots)$ を分離するチャートが存在する事を示せば良い。</p>
<p>$V_+$ を $U_+$ の $x_0&gt;0$ の部分、 $V_-$ を $U_-$ の $x_0&lt;0$ の部分とすれば</p>
<p>$$\varphi_+(V_+)=\varphi_-(V_-)=\{\mathbf{x}|\mathbf{x}\in\mathbb{R}^n,||\mathbf{x}||&gt;1\}$$</p>
<p>となって、これらは $\mathbb{R}^n$ の開集合($\because$ 閉球体の補集合)だから、$\varphi_\pm$ のこれらへの制限は $S^n$ のチャートになる。
そして $V_+\cap V_-=\emptyset$ だから、これらは $(\pm 1,0,\ldots)$ を分離する。以上より $(S^n,\mathcal{A}^+)$ はハウスドルフ性を満たす。</p>
<p>よって $(S^n,\mathcal{A}^+)$ は $n$ 次元多様体である。</p>
<div class="box">
    <div class="title">
        例2.10:  一般線型群
    </div>
<p>正則な $n$次実正方行列の集合 $GL_n=\{X\in\mathbb{R}^{n\times n}|\det X\neq 0\} $
に対して、写像
$$\varphi:GL_n\rightarrow\mathbb{R}^{n^2}: X\mapsto\mathrm{vec}(X)$$
を考えると $\mathcal{A}=\{(GL_n,\varphi)\}$ がアトラスとなり、 $(GL_n,\mathcal{A}^+)$ は $n^2$次元多様体となる。</p>
</div>
<p>ここで $\mathrm{vec}(X)$ は $X$ の各列を縦に繋げたベクトル。</p>
<p>まず $\varphi(GL_n)$ が開集合である事を示す。$\det'=\det\circ\mathrm{vec}^{-1}:\mathbb{R}^{n^2}\rightarrow\mathbb{R}$ はベクトルの成分の加減乗算のみで定義されるので連続。従って $\varphi(GL_n)=\det'^{-1}(\mathbb{R}\setminus\{0\})$ は開集合。($\because$ ユークリッド空間の一点集合 $\{0\}$ は閉集合だから、その補集合である $\mathbb{R}\setminus\{0\}$ は開集合。そして、開集合の連続写像による逆像は開集合。)</p>
<p>そして $\mathrm{vec}$ は全単射だから $(GL_n,\varphi)$ はチャートである。$GL_n$ 全体が一つのチャートで覆われるので、可算被覆を持つことは明らか。ハウスドルフ性も補題2.8より明らか。</p>
<hr>
<p>同じようにして特殊線型群 $SL_n=\{X\in\mathbb{R}^{n\times n}|\det X=1\}$ などについても考えたいが、同じようにチャートを与える事によって直接示すのは大変なので、いくつか定理を示した後にする。</p>

    </article>
  </section>

  <footer>
    <div>
      <p class="f6 gray mt6 lh-copy">
        
      </p>
    </div>
  </footer>
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/highlight.min.js"></script>

<script>
  hljs.initHighlightingOnLoad();
</script>



  </body>
</html>
